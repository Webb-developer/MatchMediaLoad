var MatchMediaLoad=function(e){"use strict";var t={selector:document.getElementsByClassName("js-match-media"),src:"data-src",mediaQuery:"data-match",class:"match-media--replaced",debounceRate:150,_cache:[],_hasSupport:"function"==typeof e.matchMedia,_video:{FORMAT:new RegExp(/\.(ogg|mp4|webm)$/i)}},a,c=function(){t._hasSupport?(s(),e.onresize=function(){clearTimeout(a),a=setTimeout(function(){s()},t.debounceRate)}):r(t.selector)},s=function(){for(var e=[],a=0,c=t.selector.length;a<c;a++)t._cache.indexOf(t.selector[a])===-1&&matchMedia(t.selector[a].getAttribute(t.mediaQuery)).matches&&(e.push(t.selector[a]),t._cache.push(t.selector[a]),r(e))},r=function(e){for(var a=0,c=e.length;a<c;a++)if("VIDEO"===e[a].tagName){for(var s=0,r=e[a].getAttribute(t.src).split(", ").length;s<r;s++)if(e[a].getAttribute(t.src).split(", ")[s].search(t._video.FORMAT)!==-1&&""!==e[a].canPlayType("video/"+e[a].getAttribute(t.src).split(", ")[s].match(t._video.FORMAT)[1])){e[a].setAttribute("src",e[a].getAttribute(t.src).split(", ")[s]),e[a].classList.add(t.class),e[a].play();break}}else"IMG"!==e[a].tagName?(e[a].style.backgroundImage="url("+e[a].getAttribute(t.src)+")",e[a].classList.add(t.class)):(e[a].setAttribute("src",e[a].getAttribute(t.src)),e[a].classList.add(t.class));"function"==typeof t.after&&t.after(e)},i=function(e){"object"==typeof e?(t.selector=e.selector||t.selector,t.src=e.src||t.src,t.mediaQuery=e.mediaQuery||t.mediaQuery,t.class=e.class||t.class,0===e.debounceRate?t.debounceRate=0:void 0!==e.debounceRate&&(t.debounceRate=e.debounceRate),t.after=e.after||void 0,c(t)):c(t)};return{run:i}}(window).run();